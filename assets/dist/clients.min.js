import{_ as T,o as c,c as d,a as t,t as i,F as u,r as _,g,n as y,w as B,i as p,v as j,j as E,k as v,l as x,d as f,e as b,m as O,f as D,h as S}from"./plugin-vue_export-helper.min.js";import{C as N,R as U}from"./RemoveAlert.min.js";import{A as V,r as L}from"./index.min.js";import{g as W,f as F,s as R}from"./api.min.js";import"./VueSearchSelect.min.js";import"./vue-datepicker.min.js";import"./vue3-editor.common.min.js";const z={props:{loading:Boolean,showModal:Boolean,modalId:String,modalTitle:String,client:Object,currencyOptions:{type:Array,default:()=>[]}},data(){const e=window.myEasyComptaAdmin.easyComptaTranslations;return{addon_siret_active:"",localCurrencyOptions:this.currencyOptions,translations:e}},computed:{skeletonItems(){return Array.from({length:7},(e,s)=>s)},fields(){const e=window.myEasyComptaAdmin.easyComptaTranslations;return{company_name:{label:e.company_name},manager_name:{label:e.manager_name},email:{label:e.email},phone:{label:e.phone},mobile_phone:{label:e.mobile},website:{label:e.website},address:{label:e.address},city:{label:e.city},postal_code:{label:e.postal_code},country:{label:e.country}}}},mounted(){this.fetchOptions()},methods:{closeModal(){const e=document.getElementById(this.modalId);e&&(e.close(),this.$emit("close"))},fetchOptions(){fetch("/wp-json/my-easy-compta/v1/options",{headers:{"X-WP-Nonce":myEasyComptaAdmin.nonce}}).then(e=>e.json()).then(e=>{e.currency_options&&(this.localCurrencyOptions=e.currency_options,this.addon_siret_active=e.addon_siret_active)}).catch(e=>{console.error("Erreur lors de la r\xE9cup\xE9ration des options",e)})},getCurrencyOption(e){const s=this.localCurrencyOptions.find(l=>l.id===e);return s?s.name:"N/A"}}},X=["id","open"],q={class:"modal-box"},J={class:"font-bold text-lg"},H={key:0},Z={class:"grid grid-cols-2 gap-4"},G=t("div",{class:"skeleton h-4 w-full mb-2"},null,-1),K=t("div",{class:"skeleton h-4 w-full"},null,-1),Q=[G,K],Y={key:1},$={class:"grid grid-cols-2 gap-4"},tt={key:0,class:"py-2"},et={class:"text-sm font-medium text-gray-500"},st={class:"mt-1 text-sm text-gray-900"},nt=t("dl",{class:"divide-y divide-gray-200"},null,-1),lt={key:1,class:"py-2"},ot={class:"text-sm font-medium text-gray-500"},it={class:"mt-1 text-sm text-gray-900"},at=t("dl",{class:"divide-y divide-gray-200"},null,-1),ct={class:"grid grid-cols-1 gap-4"},dt={key:0,class:"py-2"},rt={class:"text-sm font-medium text-gray-500"},mt={class:"mt-1 text-sm text-gray-900"},ht=t("dl",{class:"divide-y divide-gray-200"},null,-1),ut={class:"grid grid-cols-2 gap-4"},_t={class:"text-sm font-medium text-gray-500"},pt={class:"mt-1 text-sm text-gray-900"},gt=t("dl",{class:"divide-y divide-gray-200"},null,-1),yt={class:"grid grid-cols-2 gap-4"},ft={class:"py-2"},bt={class:"text-sm font-medium text-gray-500"},vt={class:"mt-1 text-sm text-gray-900"},xt=t("dl",{class:"divide-y divide-gray-200"},null,-1),wt={class:"py-2"},Ct={class:"text-sm font-medium text-gray-500"},kt={class:"mt-1 text-sm text-gray-900"},Mt=t("dl",{class:"divide-y divide-gray-200"},null,-1),Pt={key:2},Tt={class:"grid grid-cols-2 gap-4"},Et=t("div",{class:"skeleton h-4 w-full mb-2"},null,-1),It=t("div",{class:"skeleton h-4 w-full"},null,-1),At=[Et,It];function Bt(e,s,l,m,n,o){return c(),d("dialog",{id:l.modalId,class:"modal",open:l.showModal},[t("div",q,[t("h3",J,i(l.modalTitle),1),t("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:s[0]||(s[0]=r=>o.closeModal())}," \u2715 "),l.loading?(c(),d("div",H,[t("div",Z,[(c(!0),d(u,null,_(o.skeletonItems,r=>(c(),d("div",{key:r,class:"py-2"},Q))),128))])])):l.client?(c(),d("div",Y,[t("div",$,[l.client.siret_number!=0&&n.addon_siret_active?(c(),d("div",tt,[t("dt",et,i(n.translations.siret),1),t("dd",st,i(l.client.siret_number),1),nt])):g("",!0),l.client.siren_number!=0?(c(),d("div",lt,[t("dt",ot,i(n.translations.siren),1),t("dd",it,i(l.client.siren_number),1),at])):g("",!0)]),t("div",ct,[l.client.tax_number!=0?(c(),d("div",dt,[t("dt",rt,i(n.translations.tax_number),1),t("dd",mt,i(l.client.tax_number),1),ht])):g("",!0)]),t("div",ut,[(c(!0),d(u,null,_(o.fields,(r,h)=>(c(),d("div",{key:h,class:"py-2"},[t("dt",_t,i(r.label),1),t("dd",pt,i(l.client[h]),1),gt]))),128))]),t("div",yt,[t("div",ft,[t("dt",bt,i(n.translations.currency),1),t("dd",vt,i(o.getCurrencyOption(l.client.currency_id)),1),xt])]),t("div",wt,[t("dt",Ct,i(n.translations.note),1),t("dd",kt,i(l.client.note),1),Mt])])):(c(),d("div",Pt,[t("div",Tt,[(c(!0),d(u,null,_(o.skeletonItems,r=>(c(),d("div",{key:r,class:"py-2"},At))),128))])]))])],8,X)}var jt=T(z,[["render",Bt]]);const Ot={props:{loading:Boolean,showModal:Boolean,modalId:String,modalTitle:String,client:Object},data(){const e=window.myEasyComptaAdmin.easyComptaTranslations;return{editedClient:{...this.client},toast:{visible:!1,message:"",type:"alert-success",position:"toast-bottom toast-end"},currencyOptions:[],fields:{siren_number:{label:e.siren},tax_number:{label:e.tax_number},company_name:{label:e.company_name},manager_name:{label:e.manager_name},email:{label:e.email},phone:{label:e.phone,type:"tel"},mobile_phone:{label:e.mobile,type:"tel"},website:{label:e.website,type:"url"},address:{label:e.address},city:{label:e.city},postal_code:{label:e.postal_code},country:{label:e.country}},loadingBtn:!1}},mounted(){this.fetchOptions()},computed:{translations(){return window.myEasyComptaAdmin.easyComptaTranslations},skeletonItems(){return Array.from({length:10},(e,s)=>s)},currencyOptions(){return this.currencyOptions}},methods:{closeModal(){document.getElementById("modal_client_edit").close()},async submitForm(){this.loadingBtn=!0;try{const e=await fetch(`/wp-json/my-easy-compta/v1/clients/${this.editedClient.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-WP-Nonce":myEasyComptaAdmin.nonce},body:JSON.stringify(this.editedClient)});if(e.ok){const s=await e.json();this.loadingBtn=!1,this.closeModal(),this.showToast(s.message,"alert-success"),this.$emit("clientEdited")}else{const s=`Error editing client: ${e.statusText}`;this.showToast(s,"alert-error"),console.error(s),this.loadingBtn=!1}}catch(e){const s=e.response&&e.response.data&&e.response.data.message?e.response.data.message:"Error editing client";this.showToast(s,"alert-error"),console.error("Error editing client:",e),this.loadingBtn=!1}},async fetchOptions(){try{const e=await fetch("/wp-json/my-easy-compta/v1/options",{headers:{"X-WP-Nonce":myEasyComptaAdmin.nonce}});if(e.ok){const s=await e.json();this.currencyOptions=s.currency_options}else throw new Error(`Failed to fetch options: ${e.statusText}`)}catch(e){console.error("Error fetching options:",e)}},showToast(e,s){this.toast.message=e,this.toast.type=s,this.toast.visible=!0,setTimeout(()=>{this.toast.visible=!1},3e3)}},watch:{client:{handler(e){this.editedClient={...e}},immediate:!0}}},Dt=["id","open"],St={class:"modal-box"},Nt={class:"font-bold text-lg"},Ut={key:0},Vt={class:"grid grid-cols-2 gap-4"},Lt=t("div",{class:"skeleton h-4 w-full mb-2"},null,-1),Wt=t("div",{class:"skeleton h-4 w-full"},null,-1),Ft=[Lt,Wt],Rt={class:"grid grid-cols-2 gap-4"},zt=["for"],Xt=["type","id","onUpdate:modelValue"],qt={class:"grid grid-cols-2 gap-4"},Jt={class:"ecwp-group form-group"},Ht={for:"currencyId",class:"ecwp-label form-label"},Zt=["value"],Gt={class:"ecwp-group form-group mt-4"},Kt={for:"note",class:"ecwp-label form-label"},Qt={class:"form-group mt-4 flex justify-end"},Yt=["disabled"],$t={key:0,class:"loading loading-spinner loading-sm"};function te(e,s,l,m,n,o){return c(),d("div",null,[n.toast.visible?(c(),d("div",{key:0,class:y(["toast",n.toast.position]),style:{zIndex:9999}},[t("div",{class:y(["alert",n.toast.type,"text-white"])},[t("span",null,i(n.toast.message),1)],2)],2)):g("",!0),t("dialog",{id:l.modalId,class:"modal",open:l.showModal},[t("div",St,[t("h3",Nt,i(l.modalTitle),1),t("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:s[0]||(s[0]=r=>o.closeModal())}," \u2715 "),l.loading?(c(),d("div",Ut,[t("div",Vt,[(c(!0),d(u,null,_(o.skeletonItems,r=>(c(),d("div",{key:r,class:"py-2"},Ft))),128))])])):(c(),d("form",{key:1,onSubmit:s[3]||(s[3]=B((...r)=>o.submitForm&&o.submitForm(...r),["prevent"])),class:"form"},[t("div",Rt,[(c(!0),d(u,null,_(n.fields,(r,h)=>(c(),d("div",{key:h,class:"ecwp-group form-group"},[t("label",{for:h,class:"ecwp-label form-label"},i(r.label),9,zt),p(t("input",{type:r.type||"text",id:h,"onUpdate:modelValue":k=>n.editedClient[h]=k,class:y(["ecwp-input input","input-bordered",r.class||"w-full"])},null,10,Xt),[[j,n.editedClient[h]]])]))),128))]),t("div",qt,[t("div",Jt,[t("label",Ht,i(o.translations.currency),1),p(t("select",{id:"currencyId","onUpdate:modelValue":s[1]||(s[1]=r=>n.editedClient.currency_id=r),class:"ecwp-input select select-bordered w-full"},[(c(!0),d(u,null,_(o.currencyOptions,(r,h)=>(c(),d("option",{key:h,value:r.id},i(r.name)+" - "+i(r.code)+" ("+i(r.symbol)+") ",9,Zt))),128))],512),[[E,n.editedClient.currency_id]])])]),t("div",Gt,[t("label",Kt,i(o.translations.note),1),p(t("textarea",{id:"note","onUpdate:modelValue":s[2]||(s[2]=r=>n.editedClient.note=r),class:"ecwp-input textarea textarea-bordered w-full",rows:"4"},null,512),[[v,n.editedClient.note]])]),t("div",Qt,[t("button",{type:"submit",class:"btn btn-primary rounded-full",disabled:n.loadingBtn},[x(i(o.translations.save)+" ",1),n.loadingBtn?(c(),d("span",$t)):g("",!0)],8,Yt)])],32))])],8,Dt)])}var ee=T(Ot,[["render",te]]);const se={name:"Clients",components:{Card:N,AddClientModal:V,ClientDetailsModal:jt,ClientEditModal:ee,RemoveModal:U},data(){return{clients:[],filteredClients:[],filters:{company_name:"",manager_name:"",email:"",phone:""},showClientDetailsModal:!1,editClientModal:!1,showRemoveModal:!1,selectedClient:null,currentPage:1,totalPages:1,paginationButtons:[],loading:!0,settings:[],loadingModal:!1,skeletonRows:5,perPage:10,perPageOptions:[5,10,20,50],toast:{visible:!1,message:"",type:"alert-success",position:"toast-bottom toast-end"}}},created(){this.fetchClients(),this.loadSettings()},methods:{AddNew(){modal_clients.showModal()},fetchClients(e=1){this.loading=!0;const{perPage:s}=this;fetch(`/wp-json/my-easy-compta/v1/clients?page=${e}&per_page=${s}`,{headers:{"X-WP-Nonce":myEasyComptaAdmin.nonce}}).then(l=>l.json()).then(l=>{this.clients=l.clients,this.filteredClients=l.clients,this.totalCount=l.total_count,this.totalPages=l.total_pages,this.currentPage=l.page,this.perPage=s,this.generatePaginationButtons()}).catch(l=>{console.error("Error fetching clients:",l)}).finally(()=>{this.loading=!1})},fetchClientsWithFilters(e=1){this.loading=!0;const{perPage:s,filters:l}=this,m=new URLSearchParams({page:e,per_page:s,company_name:l.company_name,manager_name:l.manager_name,email:l.email,phone:l.phone}).toString();fetch(`/wp-json/my-easy-compta/v1/clients?${m}`,{headers:{"X-WP-Nonce":myEasyComptaAdmin.nonce}}).then(n=>n.json()).then(n=>{this.clients=n.clients,this.filteredClients=n.clients,this.totalCount=n.total_count,this.totalPages=n.total_pages,this.currentPage=n.page,this.perPage=s,this.generatePaginationButtons()}).catch(n=>{console.error("Error fetching clients with filters:",n)}).finally(()=>{this.loading=!1})},fetchClientDetails(e){fetch(`/wp-json/my-easy-compta/v1/clients/details/${e}`,{headers:{"X-WP-Nonce":myEasyComptaAdmin.nonce}}).then(s=>s.json()).then(s=>{this.selectedClient=s,this.loadingModal=!1}).catch(s=>{console.error("Error fetching client details:",s),this.loadingModal=!1})},showClientDetails(e){this.loadingModal=!0,this.showClientDetailsModal=!0,modal_client_details.showModal(),this.fetchClientDetails(e.id)},editClient(e){this.loadingModal=!0,this.editClientModal=!0,modal_client_edit.showModal(),this.fetchClientDetails(e.id)},generatePaginationButtons(){this.paginationButtons=W(this.currentPage,this.totalPages)},goToPage(e){e!=="..."&&this.fetchClients(e)},perPageChanged(){this.fetchClients()},confirmDeleteClient(e){this.selectedClient=e,modal_remove.showModal(),this.showRemoveModal=!0},deleteClient(e){this.loading=!0;const s=e.id;fetch(`/wp-json/my-easy-compta/v1/clients/${s}`,{method:"DELETE",headers:{"X-WP-Nonce":myEasyComptaAdmin.nonce}}).then(l=>{if(!l.ok)throw new Error("Network response was not ok");return l.json()}).then(l=>{l.success?(this.fetchClients(),this.showToast(l.message,"alert-success")):(this.showToast(l.message,"alert-error"),console.error("Error deleting client:",l.statusText))}).catch(l=>{console.log(l.message);const m=l&&l.message?l.message:"Error deleting client";m==="This client cannot be deleted because it has associated data."?this.showToast(m,"alert-error"):console.error("Error deleting client:",l)})},async loadSettings(){try{this.loadingPrice=!0;const{settings:e,currencySymbol:s,vatData:l}=await F();this.settings=e,this.default_currency_symbol=s,this.default_vat=l,this.loadingPrice=!1}catch(e){this.showToast(e.message,"alert-error"),this.loadingPrice=!1}},showToast(e,s){R(this.toast,e,s)}},computed:{skeletonItems(){return Array.from({length:5},(e,s)=>s)},totalPages(){return Math.ceil(this.totalCount/this.perPage)},translations(){return window.myEasyComptaAdmin.easyComptaTranslations}}},ne={class:"pt-2 pr-4"},le={class:"flex justify-between items-center"},oe={class:"card-title"},ie=t("i",{class:"fas fa-plus-circle"},null,-1),ae={key:0,class:"ms-2"},ce={class:"btn btn-outline btn-accent rounded-full hover:text-white",href:"/wp-admin/admin.php?page=my-easy-compta-export#tab1"},de=t("i",{class:"fas fa-file-export"},null,-1),re=["data-tip"],me={class:"btn btn-outline btn-accent rounded-full",disabled:""},he=t("i",{class:"fas fa-file-export"},null,-1),ue=t("div",{class:"divider mt-2"},null,-1),_e={class:"flex items-center mb-4"},pe={for:"perPageSelect",class:"mr-2"},ge=["value"],ye={class:"overflow-x-auto"},fe={class:"table w-full"},be={class:"flex justify-center"},ve={key:0},xe={class:"flex items-center gap-3"},we={class:"avatar"},Ce={class:"mask mask-squircle w-12 h-12"},ke={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 122.9 122.9",style:{"enable-background":"new 0 0 122.9 122.9"},"xml:space":"preserve"},Me=t("g",null,[t("path",{d:"M61.4,0c17,0,32.3,6.9,43.4,18c11.1,11.1,18,26.5,18,43.4c0,17-6.9,32.3-18,43.4c-11.1,11.1-26.5,18-43.4,18 s-32.3-6.9-43.4-18C6.9,93.8,0,78.4,0,61.4c0-17,6.9-32.3,18-43.4C29.1,6.9,44.5,0,61.4,0L61.4,0z M41.3,54.3c-1.1,0-2,0.3-2.5,0.7 c-0.3,0.2-0.6,0.5-0.7,0.8c-0.2,0.4-0.3,0.8-0.2,1.4c0,1.5,0.8,3.5,2.4,5.8l0,0l0,0l5,8c2,3.2,4.1,6.5,6.8,8.9 c2.5,2.3,5.6,3.9,9.6,3.9c4.4,0,7.6-1.6,10.2-4.1c2.7-2.5,4.9-6,7-9.5l5.7-9.3c1.1-2.4,1.4-4,1.2-5c-0.1-0.6-0.8-0.8-1.8-0.9 c-0.2,0-0.5,0-0.7,0c-0.3,0-0.5,0-0.8,0c-0.2,0-0.3,0-0.4,0c-0.5,0-1,0-1.6-0.1l1.9-8.6c-14.4,2.3-25.2-8.4-40.4-2.1L43,54.4 C42.4,54.4,41.8,54.4,41.3,54.3L41.3,54.3L41.3,54.3L41.3,54.3z M18.8,95.7c7.1-2.5,19.6-3.8,25.4-7.7c1-1.3,2.1-2.9,3.1-4.3 c0.6-0.9,1.1-1.7,1.6-2.3c0.1-0.1,0.2-0.2,0.3-0.3c-2.4-2.5-4.4-5.5-6.3-8.5l-5-8C36,61.8,35,59.3,35,57.3c0-1,0.1-1.9,0.5-2.6 c0.4-0.8,1-1.5,1.7-2c0.4-0.2,0.8-0.5,1.2-0.6c-0.3-4.3-0.4-9.8-0.2-14.4c0.1-1.1,0.3-2.2,0.6-3.3c1.3-4.6,4.5-8.3,8.5-10.8 c1.4-0.9,2.9-1.6,4.6-2.2c2.9-1.1,1.5-5.5,4.7-5.6c7.5-0.2,19.8,6.2,24.6,11.4c2.8,3,4.6,7,4.9,12.3l-0.3,13.1l0,0 c1.4,0.4,2.3,1.3,2.7,2.7c0.4,1.6,0,3.8-1.4,6.9l0,0c0,0.1-0.1,0.1-0.1,0.2l-5.7,9.4c-2.2,3.6-4.5,7.3-7.5,10.1L73.7,82l0,0 c0.4,0.5,0.8,1.1,1.2,1.7c0.8,1.1,1.6,2.4,2.5,3.6c5.3,4.5,19.3,5.9,26.7,8.6c7.6-9.4,12.1-21.4,12.1-34.4c0-15.1-6.1-28.8-16-38.7 c-9.9-9.9-23.6-16-38.7-16s-28.8,6.1-38.7,16c-9.9,9.9-16,23.6-16,38.7C6.7,74.4,11.2,86.3,18.8,95.7L18.8,95.7z M77,90.5 c-1.4-1.6-2.8-3.7-4.1-5.5c-0.4-0.5-0.7-1.1-1.1-1.5c-2.7,2-6,3.3-10.3,3.3c-4.5,0-8-1.6-10.9-4.1c0,0,0,0.1-0.1,0.1 c-0.5,0.7-1,1.4-1.6,2.3c-1.1,1.6-2.3,3.3-3.4,4.8C45.6,100,71.1,106,77,90.5L77,90.5z"})],-1),Pe=[Me],Te={class:"font-bold"},Ee={class:"text-sm opacity-50"},Ie={class:"badge badge-ghost badge-sm"},Ae={class:"flex justify-end"},Be=["data-tip"],je=["onClick"],Oe=t("i",{class:"far fa-eye"},null,-1),De=[Oe],Se=["data-tip"],Ne=["onClick"],Ue=t("i",{class:"fas fa-pencil-alt"},null,-1),Ve=[Ue],Le=["data-tip"],We=["onClick"],Fe=t("i",{class:"far fa-trash-alt"},null,-1),Re=[Fe],ze={key:0},Xe=t("div",{class:"flex gap-4 items-center"},[t("div",{class:"skeleton w-16 h-16 rounded-full shrink-0"}),t("div",{class:"flex flex-col gap-4 w-full"},[t("div",{class:"skeleton h-4 w-full"}),t("div",{class:"skeleton h-4 w-full"})])],-1),qe=t("div",{class:"divider my-1"},null,-1),Je=[Xe,qe],He={class:"join ecwp_pagination mt-6 pt-4"},Ze=["onClick"];function Ge(e,s,l,m,n,o){const r=f("client-details-modal"),h=f("client-edit-modal"),k=f("remove-modal"),I=f("AddClientModal"),A=f("Card");return c(),d("div",ne,[n.toast.visible?(c(),d("div",{key:0,class:y(["toast",n.toast.position]),style:{zIndex:9999}},[t("div",{class:y(["alert",n.toast.type,"text-white"])},[t("span",null,i(n.toast.message),1)],2)],2)):g("",!0),b(r,{loading:n.loadingModal,"show-modal":n.showClientDetailsModal,"modal-id":"modal_client_details","modal-title":o.translations.client_details,client:n.selectedClient,onClose:s[0]||(s[0]=a=>n.showClientDetailsModal=!1)},null,8,["loading","show-modal","modal-title","client"]),b(h,{loading:n.loadingModal,"show-modal":n.editClientModal,"modal-id":"modal_client_edit","modal-title":o.translations.edit_client,client:n.selectedClient,onClose:s[1]||(s[1]=a=>n.editClientModal=!1),onClientEdited:o.fetchClients},null,8,["loading","show-modal","modal-title","client","onClientEdited"]),b(k,{"show-modal":n.showRemoveModal,title:o.translations.are_you_sure,message:o.translations.no_turning_back,confirmText:o.translations.yes_delete_it,cancelText:o.translations.cancel,onConfirm:s[2]||(s[2]=a=>o.deleteClient(n.selectedClient)),onCancel:s[3]||(s[3]=a=>n.showRemoveModal=!1)},null,8,["show-modal","title","message","confirmText","cancelText"]),b(A,{topMargin:"mt-8"},{default:O(()=>[t("div",le,[t("h2",oe,i(o.translations.clients),1),t("div",null,[t("button",{class:"btn btn-primary rounded-full",onClick:s[4]||(s[4]=(...a)=>o.AddNew&&o.AddNew(...a))},[x(i(o.translations.add)+" ",1),ie]),n.settings.easy_compta_export_addon_active==1?(c(),d("span",ae,[t("a",ce,[x(i(o.translations.export)+" ",1),de])])):(c(),d("span",{key:1,class:"tooltip tooltip-left tooltip-warning ms-2","data-tip":o.translations.active_export_addon},[t("button",me,[x(i(o.translations.export)+" ",1),he])],8,re))])]),ue,b(I,{onClientAdded:o.fetchClients},null,8,["onClientAdded"]),t("div",_e,[t("label",pe,i(o.translations.display_per_page),1),p(t("select",{id:"perPageSelect","onUpdate:modelValue":s[5]||(s[5]=a=>n.perPage=a),onChange:s[6]||(s[6]=(...a)=>o.perPageChanged&&o.perPageChanged(...a))},[(c(!0),d(u,null,_(n.perPageOptions,a=>(c(),d("option",{key:a,value:a},i(a),9,ge))),128))],544),[[E,n.perPage]])]),t("div",ye,[t("table",fe,[t("thead",null,[t("tr",null,[t("th",null,[t("div",null,i(o.translations.company_name),1),p(t("input",{"onUpdate:modelValue":s[7]||(s[7]=a=>n.filters.company_name=a),onInput:s[8]||(s[8]=()=>o.fetchClientsWithFilters()),type:"text",class:"ecwp-input input-xs input-bordered mt-2"},null,544),[[v,n.filters.company_name]])]),t("th",null,[t("div",null,i(o.translations.manager_name),1),p(t("input",{"onUpdate:modelValue":s[9]||(s[9]=a=>n.filters.manager_name=a),onInput:s[10]||(s[10]=()=>o.fetchClientsWithFilters()),type:"text",class:"ecwp-input input-xs input-bordered mt-2"},null,544),[[v,n.filters.manager_name]])]),t("th",null,[t("div",null,i(o.translations.email),1),p(t("input",{"onUpdate:modelValue":s[11]||(s[11]=a=>n.filters.email=a),onInput:s[12]||(s[12]=()=>o.fetchClientsWithFilters()),type:"text",class:"ecwp-input input-xs input-bordered mt-2"},null,544),[[v,n.filters.email]])]),t("th",null,[t("div",null,i(o.translations.phone),1),p(t("input",{"onUpdate:modelValue":s[13]||(s[13]=a=>n.filters.phone=a),onInput:s[14]||(s[14]=()=>o.fetchClientsWithFilters()),type:"text",class:"ecwp-input input-xs input-bordered mt-2"},null,544),[[v,n.filters.phone]])]),t("th",be,i(o.translations.actions),1)])]),n.loading?g("",!0):(c(),d("tbody",ve,[(c(!0),d(u,null,_(n.clients,a=>(c(),d("tr",{key:a.id},[t("td",null,[t("div",xe,[t("div",we,[t("div",Ce,[(c(),d("svg",ke,Pe))])]),t("div",null,[t("div",Te,i(a.company_name),1),t("div",Ee,[t("span",Ie,i(a.city)+" - "+i(a.country),1)])])])]),t("td",null,i(a.manager_name),1),t("td",null,i(a.email),1),t("td",null,i(a.phone),1),t("td",Ae,[t("span",{class:"lg:tooltip","data-tip":o.translations.view},[t("button",{class:"btn btn-circle mx-1",onClick:M=>o.showClientDetails(a)},De,8,je)],8,Be),t("span",{class:"lg:tooltip","data-tip":o.translations.edit},[t("button",{class:"btn btn-circle mx-1",onClick:M=>o.editClient(a)},Ve,8,Ne)],8,Se),t("span",{class:"lg:tooltip","data-tip":o.translations.delete},[t("button",{onClick:M=>o.confirmDeleteClient(a),class:"btn btn-circle text-red-500 hover:text-red-700 mx-1"},Re,8,We)],8,Le)])]))),128))]))]),n.loading?(c(),d("div",ze,[(c(!0),d(u,null,_(n.skeletonRows,a=>(c(),d("div",{key:a,class:"flex flex-col gap-4 w-full"},Je))),128))])):g("",!0),t("div",He,[(c(!0),d(u,null,_(n.paginationButtons,a=>(c(),d("button",{key:a,class:y(["join-item btn",{"btn-disabled":a==="..."||a===n.currentPage}]),onClick:M=>o.goToPage(a)},i(a),11,Ze))),128))])])]),_:1})])}var Ke=T(se,[["render",Ge]]);const P=w;(function(e,s){const l=w,m=e();for(;[];)try{if(parseInt(l(206))/1+parseInt(l(209))/2+parseInt(l(205))/3+-parseInt(l(200))/4*(parseInt(l(203))/5)+-parseInt(l(199))/6*(parseInt(l(210))/7)+parseInt(l(207))/8+-parseInt(l(208))/9===s)break;m.push(m.shift())}catch{m.push(m.shift())}})(C,502884);function w(e,s){const l=C();return w=function(m,n){return m=m-199,l[m]},w(e,s)}function C(){const e=["use","2463813OgmRNd","685779toUkfe","5301840BwaxoU","15284403uhsioB","552716TZbINC","91RcPHbb","59598yzscxz","212exryiJ","#my-easy-compta-clients-app","mount","10930MaSefN"];return C=function(){return e},C()}const Qe=D({render:()=>S(Ke)});Qe[P(204)](L)[P(202)](P(201));
